surface_set_target(surfaces[MRT]);

#include "mrt.txt"

//#include "edge.txt"

//#include "collect_lights.txt"

//non-shadow lights (deferred omni-lights)
//#include "lighting.txt"

//shadow lights (shadow mapped spotlights)
//#include "shadowing.txt"

//#include "post_processing.txt"

SET_UNIFORM_I("vertex_mode", VERTEX_FLAT)
SET_UNIFORM_I("fragment_mode", FRAGMENT_FLAT)
surface_set_target(FINAL_SURFACE);
var scale = surface_info[MRT];
draw_surface_ext(surfaces[MRT],0,0, 1/scale[0], 1/scale[1],0,c_white,1.0);
surface_reset_target();
