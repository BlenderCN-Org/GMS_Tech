void rotate(inout vec2 point, float angle)
{
  float X = cos(angle)*point.x - sin(angle)*point.y;
  point.y = cos(angle)*point.y + sin(angle)*point.x;
  point.x = X;
}

float packColor(vec4 color)
{
    return dot( color, vec4(1.0, 1.0/byte, 1.0/(byte*byte), 1.0/(byte*byte*byte)) );
}

vec4 unpackColor(float f)
{
  f /= MAXIMUM_VIEW_DISTANCE;
  vec4 enc = f * vec4(1.0, byte, byte*byte, byte*byte*byte);
  enc = fract(enc);
  enc.rgb -= enc.gba/vec3(byte);
  return enc;
}
